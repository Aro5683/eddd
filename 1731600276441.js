function toggleMenu(){let e=document.getElementById("toggleSidebarMobileHamburger"),t=document.getElementById("toggleSidebarMobileClose");e.style.display="none"===e.style.display?"block":"none",t.style.display="none"===t.style.display?"block":"none",navbarContent.classList.toggle("d-block")}function toggleAccordion(e){var t=e.querySelector(".accordion-angle-bottom-icon"),o=e.querySelector(".accordion-angle-right-icon"),l=e.nextElementSibling;l.classList.toggle("d-none"),t.style.display=l.classList.contains("d-none")?"block":"none",o.style.display=l.classList.contains("d-none")?"none":"block"}const toggleMegaMenus=document.querySelectorAll(".toggle-mega-menu");toggleMegaMenus.forEach((function(e){e.addEventListener("click",(function(){this.classList.toggle("active");const e=this.querySelector(".dropdown-container");e.classList.toggle("show"),e.style.display=e.classList.contains("show")?"block":"none"}))}));let pageSnopper=document.getElementById("page-snooper"),resultData=document.getElementById("result-data"),utilitiesButtons=document.getElementById("utilities-buttons"),copyBtn=document.querySelector("#copy"),downloadBtn=document.querySelector("#download"),errorMsg=document.querySelector(".error-message"),btnClose=document.querySelector(".btn-close"),resultHeading=document.querySelector(".result-heading"),loader=document.querySelector(".loader");const websitePageSnopper=async e=>{try{loader.style.display="flex",errorMsg.style.display="none";const t=await fetch(`/.netlify/functions/check?url=${e}`);if(t.ok){const e=await t.json();"Error"==e.name?(errorMsg.innerHTML="Invalid URL! Please include a valid domain.",errorMsg.style.display="block"):(resultData.innerHTML=e,resultData.style.display="block",utilitiesButtons.style.display="block",resultHeading.style.display="block")}else console.log("error");loader.style.display="none"}catch(e){console.log(e)}};function addProtocol(e){return/^(https?|ftp):\/\//.test(e)||(e="https://"+e),e}copyBtn.addEventListener("click",(()=>{resultData.value.length>0&&(resultData.select(),document.execCommand("copy"),copyBtn.innerHTML="Copied",setTimeout((()=>{copyBtn.innerHTML="Copy",window.getSelection().removeAllRanges()}),1e3))})),downloadBtn.addEventListener("click",(()=>{const e=new Blob([resultData.value],{type:"text/html"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="page_snooper.html",document.body.appendChild(t),t.click(),document.body.removeChild(t)})),btnClose.addEventListener("click",(()=>{errorMsg.style.display="none"})),pageSnopper.addEventListener("submit",(e=>{e.preventDefault();let t=document.getElementById("website-url").value,o=/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/;if(""===t)errorMsg.innerHTML="Please fill the required field.",errorMsg.style.display="block";else if(t=addProtocol(t),o.test(t)){/^(https?|ftp):\/\/[^\s/$.?#]+\.[^\s]*$/.test(t)?websitePageSnopper(t):(errorMsg.innerHTML="Invalid URL! Please include a valid domain.",errorMsg.style.display="block")}else errorMsg.innerHTML="Invalid URL! Please enter a valid URL.",errorMsg.style.display="block"}));